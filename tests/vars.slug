
//
// simple var declaration
// ----------------------

var x = 10;

x.assertEqual(10);

var x = x + 1;

x.assertEqual(11);


//
// var declaration with destructured lists
// ---------------------------------------

var f1 = fn(a, b) {
    [a, b]
}

var [a, b] = f1(1, 2);

a.assertEqual(1);

b.assertEqual(2);

var [_, c] = f1(1, 2);

c.assertEqual(2);

//
// var declaration with destructured maps
// --------------------------------------

var f2 = fn(a, b) {
    {"a":a, "b":b}
}

var {"a":x, "b":y} = f2(1, 2);

x.assertEqual(1);

y.assertEqual(2);


// todo: this is a scoping bug, the match starts left to right and
// binds as matches
var {"z":d, "z":g, "a":z, ...} = f2(1, 2);

z.assertEqual(1);



