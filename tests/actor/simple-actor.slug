var {*} = import(
	"slug.actor",
	"slug.time",
	"slug.test",
);


var ping = fn() {
	match receive() {
		{from, msg} => {
				from /> send("pong: " + msg);      // reply
				recur();                           // recurse
			}
		_ => println("exit {{ self() }}!");
	}
}

var pingActorId = spawn(ping)

pingActorId
	/> send({from: self(), msg: "Hello Slug!"})
	/> send({from: self(), msg: "Goodbye Slug!"})
	/> send("exit")

receive() /> assertEqual("pong: Hello Slug!")
receive() /> assertEqual("pong: Goodbye Slug!")


sleep(100)



